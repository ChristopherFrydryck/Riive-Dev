{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _dec,\n    _class,\n    _class2,\n    _temp,\n    _jsxFileName = \"/Users/christopherfrydryck/Documents/Dev/Riive-Dev/riive/screens/EditVehicle.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Input from \"../components/Input\";\nimport Dropdown from \"../components/Dropdown\";\nimport Button from \"../components/Button\";\nimport axios from 'axios';\nimport * as firebase from 'firebase';\nimport 'firebase/firestore';\nimport firebaseConfig from \"../firebaseConfig\";\nimport { inject, observer } from 'mobx-react/native';\nimport { requireNativeViewManager } from '@unimodules/core';\nimport Colors from \"../constants/Colors\";\nimport Cars from \"../constants/CarManufacturers\";\nimport ClickableChip from \"../components/ClickableChip\";\nvar unique = [];\nvar d = new Date();\nvar year = d.getFullYear();\nvar AddVehicle = (_dec = inject(\"UserStore\", \"ComponentStore\"), _dec(_class = observer(_class = (_temp = _class2 = function (_React$Component) {\n  _inherits(AddVehicle, _React$Component);\n\n  var _super = _createSuper(AddVehicle);\n\n  function AddVehicle(props) {\n    var _this;\n\n    _classCallCheck(this, AddVehicle);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n\n    _this.deleteVehicle = function _callee() {\n      var db, updatedVehicleArray;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!_this._isMounted) {\n                _context.next = 8;\n                break;\n              }\n\n              db = firebase.firestore();\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(db.collection(\"users\").doc(_this.props.UserStore.userID).update({\n                vehicles: firebase.firestore.FieldValue.arrayRemove({\n                  VehicleID: _this.props.ComponentStore.selectedVehicle[0].VehicleID,\n                  Year: _this.props.ComponentStore.selectedVehicle[0].Year,\n                  Make: _this.props.ComponentStore.selectedVehicle[0].Make,\n                  Model: _this.props.ComponentStore.selectedVehicle[0].Model,\n                  LicensePlate: _this.props.ComponentStore.selectedVehicle[0].LicensePlate,\n                  Color: _this.props.ComponentStore.selectedVehicle[0].Color\n                })\n              }));\n\n            case 4:\n              updatedVehicleArray = _this.props.UserStore.vehicles.filter(function (i) {\n                return i.VehicleID !== _this.props.ComponentStore.selectedVehicle[0].VehicleID;\n              });\n              _this.props.UserStore.vehicles = updatedVehicleArray;\n              _context.next = 9;\n              break;\n\n            case 8:\n              alert(\"Error deleting vehicle\");\n\n            case 9:\n              _this.props.navigation.navigate(\"Profile\");\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.submitVehicle = function _callee2() {\n      var db, updatedVehicleArray;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              db = firebase.firestore();\n\n              if (!_this._isMounted) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(_this.checkValid());\n\n            case 4:\n              if (_this.state.error.makeValid && _this.state.error.modelValid && _this.state.error.yearValid && _this.state.error.licenseValid) {\n                db.collection(\"users\").doc(_this.props.UserStore.userID).update({\n                  vehicles: firebase.firestore.FieldValue.arrayRemove({\n                    VehicleID: _this.props.ComponentStore.selectedVehicle[0].VehicleID,\n                    Year: _this.props.ComponentStore.selectedVehicle[0].Year,\n                    Make: _this.props.ComponentStore.selectedVehicle[0].Make,\n                    Model: _this.props.ComponentStore.selectedVehicle[0].Model,\n                    LicensePlate: _this.props.ComponentStore.selectedVehicle[0].LicensePlate,\n                    Color: _this.props.ComponentStore.selectedVehicle[0].Color\n                  })\n                });\n                db.collection(\"users\").doc(_this.props.UserStore.userID).update({\n                  vehicles: firebase.firestore.FieldValue.arrayUnion({\n                    VehicleID: _this.props.ComponentStore.selectedVehicle[0].VehicleID,\n                    Year: _this.state.yearSelected,\n                    Make: _this.state.makeSelected,\n                    Model: _this.state.modelSelected,\n                    LicensePlate: _this.state.licensePlateNum,\n                    Color: _this.state.vehicleColor\n                  })\n                });\n                updatedVehicleArray = _this.props.UserStore.vehicles.filter(function (i) {\n                  return i.VehicleID !== _this.props.ComponentStore.selectedVehicle[0].VehicleID;\n                });\n                _this.props.UserStore.vehicles = updatedVehicleArray;\n\n                _this.props.UserStore.vehicles.push({\n                  VehicleID: _this.props.ComponentStore.selectedVehicle[0].VehicleID,\n                  Year: _this.state.yearSelected,\n                  Make: _this.state.makeSelected,\n                  Model: _this.state.modelSelected,\n                  LicensePlate: _this.state.licensePlateNum,\n                  Color: _this.state.vehicleColor\n                });\n\n                _this.props.navigation.navigate(\"Profile\");\n              } else {\n                alert(\"Fix errors...\");\n              }\n\n              _context2.next = 8;\n              break;\n\n            case 7:\n              alert(\"failed to submit vehicle\");\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.checkValid = function () {\n      if (_this.state.yearSelected >= 1900 && _this.state.yearSelected <= year + 1 && _this.state.yearSelected.length == 4) {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.year = \"\";\n          error.yearValid = true;\n          return {\n            error: error\n          };\n        });\n      } else {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.year = \"Invalid Year\";\n          error.yearValid = false;\n          return {\n            error: error\n          };\n        });\n      }\n\n      if (_this.state.makeSelected !== \"Choose a Manufacturer...\") {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.make = \"\";\n          error.makeValid = true;\n          return {\n            error: error\n          };\n        });\n      } else {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.make = \"Select a make\";\n          error.makeValid = false;\n          return {\n            error: error\n          };\n        });\n      }\n\n      if (_this.state.modelSelected !== \"Car Model...\" && _this.state.modelSelected !== null && _this.state.modelSelected !== \"\" && _this.state.modelSelected !== \" \") {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.model = \"\";\n          error.modelValid = true;\n          return {\n            error: error\n          };\n        });\n      } else {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.model = \"Enter a model\";\n          error.modelValid = false;\n          return {\n            error: error\n          };\n        });\n      }\n\n      if (_this.state.licensePlateNum.length >= 1 && _this.state.licensePlateNum !== \" \") {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.licensePlate = \"\";\n          error.licenseValid = true;\n          return {\n            error: error\n          };\n        });\n      } else {\n        _this.setState(function (prev) {\n          var error = _objectSpread({}, prev.error);\n\n          error.licensePlate = \"Enter a license plate #\";\n          error.licenseValid = false;\n          return {\n            error: error\n          };\n        });\n      }\n    };\n\n    _this.checkYearMake = function () {\n      if (_this.state.yearSelected.length == 4 && _this.state.makeSelected !== \"Choose a Manufacturer...\") {\n        _this.setState({\n          loadingVehicleAPI: true\n        });\n\n        axios.get('https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformakeyear/make/' + _this.state.makeSelected + '/modelyear/' + _this.state.yearSelected + '/vehicleType/c?format=json').then(function (response) {\n          if (_this._isMounted) {\n            _this.setState({\n              loadingVehicleAPI: false\n            });\n\n            var arr = response.data.Results.filter(function (car) {\n              return car.VehicleTypeId == 2 || car.VehicleTypeId == 3 || car.VehicleTypeId == 7;\n            });\n            unique = arr.filter(function (car, i, u) {\n              return u.findIndex(function (t) {\n                return t.Model_ID === car.Model_ID;\n              }) === i;\n            });\n\n            _this.setState({\n              modelEnabled: true,\n              modelSelected: _this.props.ComponentStore.selectedVehicle[0].Model\n            });\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        _this.setState({\n          modelEnabled: false,\n          modelSelected: null\n        });\n      }\n    };\n\n    _this.state = {\n      yearSelected: _this.props.ComponentStore.selectedVehicle[0].Year,\n      makeSelected: _this.props.ComponentStore.selectedVehicle[0].Make,\n      modelSelected: \"\",\n      modelEnabled: false,\n      licensePlateNum: _this.props.ComponentStore.selectedVehicle[0].LicensePlate,\n      vehicleColor: _this.props.ComponentStore.selectedVehicle[0].Color,\n      loadingVehicleAPI: false,\n      error: {\n        year: \"\",\n        make: \"\",\n        model: \"\",\n        licensePlate: \"\",\n        yearValid: false,\n        makeValid: false,\n        modelValid: false,\n        licenseValid: false\n      },\n      readyToSubmit: false\n    };\n    return _this;\n  }\n\n  _createClass(AddVehicle, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.navigation.setParams({\n        deleteVehicle: this.deleteVehicle\n      });\n      this._isMounted = true;\n      this.checkYearMake();\n      this._navListener = this.props.navigation.addListener('didFocus', function () {\n        StatusBar.setBarStyle('dark-content', true);\n        Platform.OS === 'android' && StatusBar.setBackgroundColor('white');\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n\n      this._navListener.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var carObjArray = [];\n\n      for (var i = 0; i < Cars.length; i++) {\n        carObjArray.push({\n          key: i,\n          label: Cars[i]\n        });\n      }\n\n      var colorArray = [\"Black\", \"Blue\", \"Brown\", \"Gray\", \"Green\", \"Orange\", \"Pink\", \"Purple\", \"Red\", \"Silver\", \"Yellow\", \"White\"];\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 17\n        }\n      }, React.createElement(Input, {\n        flex: 1,\n        onChangeText: function onChangeText(value) {\n          return _this2.setState({\n            yearSelected: value\n          }, function () {\n            _this2.checkYearMake();\n          });\n        },\n        label: \"Year\",\n        placeholder: \"YYYY\",\n        maxLength: 4,\n        value: this.state.yearSelected,\n        error: this.state.error.year,\n        keyboardType: \"numeric\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        style: {\n          marginLeft: 16,\n          flex: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 21\n        }\n      }, React.createElement(Dropdown, {\n        selectedValue: this.state.makeSelected,\n        label: \"Make\",\n        error: this.state.error.make,\n        style: {\n          height: 28\n        },\n        onValueChange: Platform.OS === \"ios\" ? function (value) {\n          return _this2.setState({\n            makeSelected: value.label\n          }, function () {\n            _this2.checkYearMake();\n          });\n        } : function (value) {\n          return _this2.setState({\n            makeSelected: value\n          }, function () {\n            _this2.checkYearMake();\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 25\n        }\n      }, Platform.OS === \"android\" ? carObjArray.map(function (carMake) {\n        return React.createElement(Picker.Item, {\n          label: carMake.label,\n          value: carMake.label,\n          key: carMake.key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 44\n          }\n        });\n      }) : carObjArray))), React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 17\n        }\n      }, this.state.loadingVehicleAPI ? React.createElement(View, {\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 49\n        }\n      }, React.createElement(ActivityIndicator, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 123\n        }\n      })) : null, unique.length > 0 ? React.createElement(View, {\n        style: {\n          flex: 11\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 17\n        }\n      }, React.createElement(Dropdown, {\n        enabled: this.state.modelEnabled,\n        selectedValue: this.state.modelSelected,\n        label: \"Model\",\n        style: {\n          height: 28\n        },\n        error: this.state.error.model,\n        onValueChange: Platform.OS === \"ios\" ? function (value) {\n          return _this2.setState({\n            modelSelected: value.label\n          });\n        } : function (value) {\n          return _this2.setState({\n            modelSelected: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }\n      }, Platform.OS === \"android\" ? unique.map(function (carModel) {\n        return React.createElement(Picker.Item, {\n          label: carModel.Model_Name,\n          value: carModel.Model_Name,\n          key: carModel.Model_ID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 40\n          }\n        });\n      }) : unique.map(function (carModel) {\n        return {\n          label: carModel.Model_Name,\n          key: carModel.Model_ID\n        };\n      }))) : React.createElement(View, {\n        style: {\n          flex: 11\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 26\n        }\n      }, React.createElement(Input, {\n        editable: this.state.modelEnabled,\n        onChangeText: function onChangeText(value) {\n          return _this2.setState({\n            modelSelected: value\n          });\n        },\n        label: \"Model\",\n        value: this.state.modelSelected,\n        placeholder: \"Car Model...\",\n        maxLength: 30,\n        error: this.state.error.model,\n        keyboardType: \"default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 29\n        }\n      }))), React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }\n      }, React.createElement(Input, {\n        autoCapitalize: \"characters\",\n        onChangeText: function onChangeText(value) {\n          return _this2.setState({\n            licensePlateNum: value\n          });\n        },\n        label: \"License Plate\",\n        placeholder: \"XXX-1234\",\n        maxLength: 8,\n        error: this.state.error.licensePlate,\n        value: this.state.licensePlateNum,\n        keyboardType: \"default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: {\n          marginLeft: 16,\n          flex: 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 25\n        }\n      }, React.createElement(Dropdown, {\n        flex: 2,\n        selectedValue: this.state.vehicleColor,\n        label: \"Color\",\n        style: {\n          height: 28\n        },\n        onValueChange: Platform.OS === \"ios\" ? function (value) {\n          return _this2.setState({\n            vehicleColor: value.label\n          });\n        } : function (value) {\n          return _this2.setState({\n            vehicleColor: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 25\n        }\n      }, Platform.OS === \"android\" ? colorArray.map(function (res, i) {\n        return React.createElement(Picker.Item, {\n          key: i,\n          label: res,\n          value: res,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 44\n          }\n        });\n      }) : colorArray.map(function (res, i) {\n        return {\n          label: res,\n          key: i\n        };\n      })))), React.createElement(Button, {\n        style: {\n          backgroundColor: Colors.tango900\n        },\n        textStyle: {\n          color: 'white'\n        },\n        onPress: function onPress() {\n          return _this2.submitVehicle();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 17\n        }\n      }, \"Save Vehicle\"), React.createElement(Button, {\n        style: {\n          backgroundColor: 'white',\n          borderColor: Colors.hal300,\n          borderWidth: 2\n        },\n        textStyle: {\n          color: Colors.hal300\n        },\n        onPress: function onPress() {\n          return alert(\"Pressed\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 17\n        }\n      }, \"Delete Vehicle\"));\n    }\n  }]);\n\n  return AddVehicle;\n}(React.Component), _class2.navigationOptions = function (_ref) {\n  var navigation = _ref.navigation;\n  return {\n    title: \"Edit My Vehicle\",\n    headerTitleStyle: {\n      fontWeight: \"300\",\n      fontSize: 18\n    }\n  };\n}, _temp)) || _class) || _class);\nvar styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    justifyContent: 'center'\n  }\n});\nexport default AddVehicle;","map":{"version":3,"sources":["/Users/christopherfrydryck/Documents/Dev/Riive-Dev/riive/screens/EditVehicle.js"],"names":["React","Input","Dropdown","Button","axios","firebase","firebaseConfig","inject","observer","requireNativeViewManager","Colors","Cars","ClickableChip","unique","d","Date","year","getFullYear","AddVehicle","props","_isMounted","deleteVehicle","db","firestore","collection","doc","UserStore","userID","update","vehicles","FieldValue","arrayRemove","VehicleID","ComponentStore","selectedVehicle","Year","Make","Model","LicensePlate","Color","updatedVehicleArray","filter","i","alert","navigation","navigate","submitVehicle","checkValid","state","error","makeValid","modelValid","yearValid","licenseValid","arrayUnion","yearSelected","makeSelected","modelSelected","licensePlateNum","vehicleColor","push","length","setState","prev","make","model","licensePlate","checkYearMake","loadingVehicleAPI","get","then","response","arr","data","Results","car","VehicleTypeId","u","findIndex","t","Model_ID","modelEnabled","catch","console","log","readyToSubmit","setParams","_navListener","addListener","StatusBar","setBarStyle","Platform","OS","setBackgroundColor","remove","carObjArray","key","label","colorArray","styles","container","flexDirection","value","marginLeft","flex","height","map","carMake","justifyContent","alignContent","carModel","Model_Name","res","backgroundColor","tango900","color","borderColor","hal300","borderWidth","Component","navigationOptions","title","headerTitleStyle","fontWeight","fontSize","StyleSheet","create","padding"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport { View, Platform, Picker, StatusBar, StyleSheet, ActivityIndicator} from 'react-native'\r\nimport Input from '../components/Input'\r\nimport Dropdown from '../components/Dropdown'\r\nimport Button from '../components/Button'\r\nimport axios from 'axios'\r\n\r\nimport * as firebase from 'firebase'\r\nimport 'firebase/firestore';\r\nimport firebaseConfig from '../firebaseConfig'\r\n\r\n//MobX Imports\r\nimport {inject, observer} from 'mobx-react/native'\r\nimport { requireNativeViewManager } from '@unimodules/core';\r\n\r\nimport Colors from '../constants/Colors'\r\nimport Cars from '../constants/CarManufacturers'\r\nimport ClickableChip from \"../components/ClickableChip\"\r\n\r\n\r\n\r\n\r\n\r\nvar unique = []\r\nvar d = new Date();\r\nconst year = d.getFullYear();\r\n\r\n\r\n\r\n\r\n@inject(\"UserStore\", \"ComponentStore\")\r\n@observer\r\n\r\n\r\nclass AddVehicle extends React.Component{\r\n    _isMounted = false;\r\n\r\n    static navigationOptions = ({ navigation }) => {\r\n        return{\r\n        title: \"Edit My Vehicle\",\r\n        headerTitleStyle:{\r\n            fontWeight: \"300\",\r\n            fontSize: 18,\r\n        },\r\n    //     headerRight: <ClickableChip  onPress={navigation.getParam('deleteVehicle')}\r\n    //     bgColor='rgba(rgba(232, 86, 86, 0.3))' // Colors.Tango300 with opacity of 30%\r\n    //     textColor={Colors.hal700}\r\n    //     style={{marginRight: 16}}>Delete</ClickableChip>\r\n    \r\n    // };\r\n        };\r\n    }\r\n\r\n    \r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            yearSelected: this.props.ComponentStore.selectedVehicle[0].Year,\r\n            makeSelected: this.props.ComponentStore.selectedVehicle[0].Make,\r\n            modelSelected: \"\", // Set after fetching API\r\n            modelEnabled: false,\r\n            licensePlateNum: this.props.ComponentStore.selectedVehicle[0].LicensePlate,\r\n            vehicleColor: this.props.ComponentStore.selectedVehicle[0].Color,\r\n            loadingVehicleAPI: false,\r\n            error: {\r\n                year: \"\",\r\n                make: \"\",\r\n                model: \"\",\r\n                licensePlate: \"\",\r\n                yearValid: false,\r\n                makeValid: false,\r\n                modelValid: false,\r\n                licenseValid: false,\r\n            },\r\n            readyToSubmit: false,\r\n        }\r\n\r\n        \r\n\r\n    \r\n\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.navigation.setParams({ deleteVehicle: this.deleteVehicle})\r\n        this._isMounted = true;\r\n\r\n        this.checkYearMake()\r\n\r\n\r\n          // Set Status Bar page info here!\r\n       this._navListener = this.props.navigation.addListener('didFocus', () => {\r\n        StatusBar.setBarStyle('dark-content', true);\r\n        Platform.OS === 'android' && StatusBar.setBackgroundColor('white');\r\n      });\r\n    }\r\n\r\n\r\n\r\n     deleteVehicle = async () => {\r\n\r\n        if(this._isMounted){\r\n        const db = firebase.firestore();\r\n\r\n        // Remove the current vehicle\r\n       await db.collection(\"users\").doc(this.props.UserStore.userID).update({\r\n            vehicles: firebase.firestore.FieldValue.arrayRemove({\r\n                VehicleID: this.props.ComponentStore.selectedVehicle[0].VehicleID,\r\n                Year: this.props.ComponentStore.selectedVehicle[0].Year,\r\n                Make: this.props.ComponentStore.selectedVehicle[0].Make,\r\n                Model: this.props.ComponentStore.selectedVehicle[0].Model,\r\n                LicensePlate: this.props.ComponentStore.selectedVehicle[0].LicensePlate,\r\n                Color: this.props.ComponentStore.selectedVehicle[0].Color\r\n            })\r\n         })\r\n\r\n          // remove the old vehicle from the userstore mobx vehicles array\r\n        const updatedVehicleArray = this.props.UserStore.vehicles.filter(i => i.VehicleID !== this.props.ComponentStore.selectedVehicle[0].VehicleID)\r\n        this.props.UserStore.vehicles = updatedVehicleArray\r\n       \r\n        }else{\r\n            alert(\"Error deleting vehicle\")\r\n        }\r\n\r\n        // navigate back to home.\r\n        this.props.navigation.navigate(\"Profile\")\r\n\r\n     \r\n    }\r\n\r\n    submitVehicle = async () => {\r\n        const db = firebase.firestore();\r\n\r\n        if(this._isMounted){\r\n\r\n        await this.checkValid();\r\n        if(this.state.error.makeValid && \r\n            this.state.error.modelValid &&\r\n            this.state.error.yearValid &&\r\n            this.state.error.licenseValid){\r\n                // Remove the old vehicle\r\n                db.collection(\"users\").doc(this.props.UserStore.userID).update({\r\n                    vehicles: firebase.firestore.FieldValue.arrayRemove({\r\n                        VehicleID: this.props.ComponentStore.selectedVehicle[0].VehicleID,\r\n                        Year: this.props.ComponentStore.selectedVehicle[0].Year,\r\n                        Make: this.props.ComponentStore.selectedVehicle[0].Make,\r\n                        Model: this.props.ComponentStore.selectedVehicle[0].Model,\r\n                        LicensePlate: this.props.ComponentStore.selectedVehicle[0].LicensePlate,\r\n                        Color: this.props.ComponentStore.selectedVehicle[0].Color\r\n                    })\r\n                })\r\n                // Add the new vehicle\r\n                db.collection(\"users\").doc(this.props.UserStore.userID).update({\r\n                    vehicles: firebase.firestore.FieldValue.arrayUnion({\r\n                        VehicleID: this.props.ComponentStore.selectedVehicle[0].VehicleID,\r\n                        Year: this.state.yearSelected,\r\n                        Make: this.state.makeSelected,\r\n                        Model: this.state.modelSelected,\r\n                        LicensePlate: this.state.licensePlateNum,\r\n                        Color: this.state.vehicleColor\r\n                    })\r\n                 })\r\n\r\n                 // remove the old vehicle from the userstore mobx vehicles array\r\n                 const updatedVehicleArray = this.props.UserStore.vehicles.filter(i => i.VehicleID !== this.props.ComponentStore.selectedVehicle[0].VehicleID)\r\n                 this.props.UserStore.vehicles = updatedVehicleArray\r\n\r\n                 // add new vehicle to mobx vehicles userstore array\r\n                 this.props.UserStore.vehicles.push({\r\n                    VehicleID: this.props.ComponentStore.selectedVehicle[0].VehicleID,\r\n                    Year: this.state.yearSelected,\r\n                    Make: this.state.makeSelected,\r\n                    Model: this.state.modelSelected,\r\n                    LicensePlate: this.state.licensePlateNum,\r\n                    Color: this.state.vehicleColor\r\n                 })\r\n\r\n                 // Navigate back to profile\r\n\r\n                 this.props.navigation.navigate(\"Profile\")\r\n\r\n            }else{\r\n                alert(\"Fix errors...\")\r\n        }}else{\r\n            alert(\"failed to submit vehicle\")\r\n        }\r\n       \r\n    }\r\n\r\n    checkValid = () => {\r\n\r\n    \r\n        \r\n\r\n        // Check if year is valid between 1900 and current year + 1\r\n        if (this.state.yearSelected >= 1900 &&\r\n            this.state.yearSelected <= (year + 1) &&\r\n            this.state.yearSelected.length == 4 \r\n            ){\r\n                this.setState(prev => {\r\n                    const error = {...prev.error};\r\n                    error.year = \"\";\r\n                    error.yearValid = true;\r\n                    return { error }\r\n                })\r\n        }else{\r\n            this.setState(prev => {\r\n                const error = {...prev.error};\r\n                error.year = \"Invalid Year\";\r\n                error.yearValid = false;\r\n                return { error }\r\n            })\r\n            }\r\n\r\n\r\n        // Check if make is selected    \r\n        if(this.state.makeSelected !== \"Choose a Manufacturer...\"){\r\n            this.setState(prev => {\r\n                const error = {...prev.error};\r\n                error.make = \"\";\r\n                error.makeValid = true;\r\n                return { error }\r\n            })\r\n        }else{\r\n            this.setState(prev => {\r\n                const error = {...prev.error};\r\n                error.make = \"Select a make\";\r\n                error.makeValid = false;\r\n                return { error }\r\n            })\r\n        }\r\n\r\n\r\n        // Check if model is either selected or typed in\r\n        if(\r\n            this.state.modelSelected !== \"Car Model...\" &&\r\n            this.state.modelSelected !== null &&\r\n            this.state.modelSelected !== \"\" &&\r\n            this.state.modelSelected !== \" \" ){\r\n                this.setState(prev => {\r\n                    const error = {...prev.error};\r\n                    error.model = \"\";\r\n                    error.modelValid = true;\r\n                    return { error }\r\n                })\r\n        }else{\r\n            this.setState(prev => {\r\n                const error = {...prev.error};\r\n                error.model = \"Enter a model\";\r\n                error.modelValid = false;\r\n                return { error }\r\n            })\r\n        }\r\n\r\n\r\n        // Check that a value is given to license plate\r\n        if(this.state.licensePlateNum.length >= 1 &&\r\n            this.state.licensePlateNum !== \" \"){\r\n            this.setState(prev => {\r\n                const error = {...prev.error};\r\n                error.licensePlate = \"\";\r\n                error.licenseValid = true;\r\n                return { error }\r\n            })\r\n        }else{\r\n            this.setState(prev => {\r\n                const error = {...prev.error};\r\n                error.licensePlate = \"Enter a license plate #\";\r\n                error.licenseValid = false;\r\n                return { error }\r\n            })\r\n        }\r\n\r\n       \r\n\r\n        // console.log(\"year valid: \" + this.state.error.yearValid)\r\n        // console.log(\"make valid: \" + this.state.error.makeValid)\r\n        // console.log(\"model valid: \" + this.state.error.modelValid)\r\n        // console.log(\"license valid: \" + this.state.error.licenseValid)\r\n        // console.log(\" \")\r\n\r\n            \r\n    }\r\n\r\n    checkYearMake = () => {\r\n       \r\n        if (this.state.yearSelected.length == 4\r\n            && this.state.makeSelected !== \"Choose a Manufacturer...\"){\r\n                this.setState({loadingVehicleAPI: true})\r\n                axios.get('https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformakeyear/make/' + this.state.makeSelected + '/modelyear/' + this.state.yearSelected + '/vehicleType/c?format=json')\r\n                .then(response => {\r\n                    if(this._isMounted){\r\n                        this.setState({loadingVehicleAPI: false})\r\n                        var arr = response.data.Results.filter(function(car){\r\n                            return (car.VehicleTypeId == 2 ||\r\n                                    car.VehicleTypeId == 3 ||\r\n                                    car.VehicleTypeId == 7\r\n                            )\r\n                        });\r\n                        // remove dupliate cars in data...\r\n                        unique = arr.filter((car, i, u) => u.findIndex(t=>(t.Model_ID === car.Model_ID)) === i)\r\n\r\n                        // console.log(unique)\r\n                        this.setState({modelEnabled: true, modelSelected: this.props.ComponentStore.selectedVehicle[0].Model})\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n\r\n                \r\n        }else{\r\n            this.setState({modelEnabled: false, modelSelected: null})\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    componentWillUnmount(){\r\n        this._isMounted = false;\r\n\r\n         // Unmount status bar info\r\n         this._navListener.remove();\r\n    }\r\n\r\n\r\n    \r\n\r\n    render(){ \r\n        var carObjArray = []\r\n            for(var i = 0; i < Cars.length; i++){\r\n                carObjArray.push({key: i, label:Cars[i], });\r\n            }\r\n        var colorArray = [\"Black\", \r\n                      \"Blue\", \r\n                      \"Brown\", \r\n                      \"Gray\", \r\n                      \"Green\", \r\n                      \"Orange\", \r\n                      \"Pink\", \r\n                      \"Purple\",\r\n                      \"Red\",\r\n                      \"Silver\",\r\n                      \"Yellow\",\r\n                      \"White\"]\r\n\r\n        return(\r\n            <View style={styles.container}>\r\n                <View style={{flexDirection: \"row\" }}>\r\n                    <Input \r\n                        flex= {1}\r\n                        onChangeText = {(value) => this.setState({yearSelected: value}, () => {this.checkYearMake()})}\r\n                        label=\"Year\"\r\n                        placeholder=\"YYYY\"\r\n                        maxLength={4}\r\n                        value={this.state.yearSelected}\r\n                        error={this.state.error.year}\r\n                        keyboardType=\"numeric\"\r\n                    />\r\n                    <View style={{marginLeft: 16, flex: 3}}>\r\n                        <Dropdown\r\n                            selectedValue = {this.state.makeSelected}\r\n                            label=\"Make\"\r\n                            error={this.state.error.make}\r\n                            style={{height: 28}}\r\n                            onValueChange = {Platform.OS === \"ios\" ? (value) => this.setState({makeSelected: value.label}, () => {this.checkYearMake()}) \r\n                                                                   : (value) => this.setState({makeSelected: value}, () => {this.checkYearMake()})}   \r\n                        >\r\n                            {Platform.OS === \"android\" ?\r\n                                carObjArray.map((carMake) => {\r\n                                    return(<Picker.Item label={carMake.label} value={carMake.label} key={carMake.key}/>)\r\n                                })\r\n                            : carObjArray}\r\n                         </Dropdown>\r\n                   \r\n                    </View>\r\n\r\n                    \r\n                \r\n                </View>\r\n                <View style={{flexDirection: \"row\"}}>\r\n                {this.state.loadingVehicleAPI ? <View style={{flex: 1, justifyContent: \"center\", alignContent: \"center\"}}><ActivityIndicator /></View> : null}\r\n                { unique.length > 0 ?\r\n                <View style={{flex: 11}}>\r\n                    <Dropdown\r\n                        enabled={this.state.modelEnabled}\r\n                        selectedValue = {this.state.modelSelected}\r\n                        label=\"Model\"\r\n                        style={{height: 28}}\r\n                        error={this.state.error.model}\r\n                        onValueChange = {Platform.OS === \"ios\" ? (value) => this.setState({modelSelected: value.label}) \r\n                                                               : (value) => this.setState({modelSelected: value})}                \r\n                    >\r\n                        {Platform.OS === \"android\" ?\r\n                            unique.map((carModel) => {\r\n                                return(<Picker.Item label={carModel.Model_Name} value={carModel.Model_Name} key={carModel.Model_ID}/>)\r\n                            })\r\n                            : unique.map((carModel) => {\r\n                                return({label: carModel.Model_Name, key: carModel.Model_ID})\r\n                            })}           \r\n                       \r\n                    </Dropdown>\r\n                </View>\r\n                         :\r\n                         <View style={{flex: 11}}>\r\n                            <Input \r\n                            editable={this.state.modelEnabled}\r\n                            onChangeText = {(value) => this.setState({modelSelected: value})}\r\n                            label=\"Model\"\r\n                            value={this.state.modelSelected}\r\n                            placeholder=\"Car Model...\"\r\n                            maxLength={30}\r\n                            error={this.state.error.model}\r\n                            keyboardType=\"default\"/>\r\n                        </View>\r\n                }\r\n                </View>\r\n                <View style={{flexDirection: \"row\" }}>\r\n                    <View style={{flex: 2}}>\r\n                    <Input \r\n                            autoCapitalize = \"characters\"\r\n                            onChangeText = {(value) => this.setState({licensePlateNum: value})}\r\n                            label=\"License Plate\"\r\n                            placeholder=\"XXX-1234\"\r\n                            maxLength={8}\r\n                            error={this.state.error.licensePlate}\r\n                            value={this.state.licensePlateNum}\r\n                            keyboardType=\"default\"/>\r\n                    </View>\r\n                        <View style={{marginLeft: 16, flex: 2}}>\r\n                        <Dropdown\r\n                                flex = {2}\r\n                                selectedValue = {this.state.vehicleColor}\r\n                                label=\"Color\"\r\n                                style={{height: 28}}\r\n                                onValueChange = {Platform.OS === \"ios\" ? (value) => this.setState({vehicleColor: value.label}) \r\n                                                                       : (value) => this.setState({vehicleColor: value})}                  \r\n                            >\r\n                            { Platform.OS === \"android\" ? \r\n                                colorArray.map((res, i) => {\r\n                                    return(<Picker.Item key={i} label={res} value={res}/>)\r\n                                })\r\n                                : colorArray.map((res, i) => {\r\n                                    return({label: res, key: i})\r\n                                })}                \r\n                            </Dropdown> \r\n                        </View>  \r\n                </View> \r\n                <Button style={{backgroundColor: Colors.tango900}} textStyle={{color: 'white'}} onPress={() => this.submitVehicle()}>Save Vehicle</Button>\r\n                <Button style={{backgroundColor: 'white', borderColor: Colors.hal300, borderWidth: 2}} textStyle={{color: Colors.hal300}} onPress={() => alert(\"Pressed\")}>Delete Vehicle</Button>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container:{\r\n        // flex: 1,\r\n        // only use for emulator\r\n        // marginTop: getStatusBarHeight(),\r\n        padding: 20,\r\n        justifyContent: 'center',\r\n        // flexDirection: 'row'\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n\r\nexport default AddVehicle"]},"metadata":{},"sourceType":"module"}